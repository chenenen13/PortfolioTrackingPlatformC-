/* =========================
   1) Icon set (Blazor template)
   ========================= */
@import url('open-iconic/font/css/open-iconic-bootstrap.min.css');

/* =========================
   2) Theme tokens & light reset
   ========================= */
:root {
  --bg-sidebar: #0b1324;
  --bg-active:  #1e293b;
  --txt:        #0f172a;
  --txt-muted:  #475569;
  --primary:    #1b6ec2;
  --primary-2:  #1861ac;
  --border:     #e5e7eb;
  --badge:      #eef2ff;

  --radius: .75rem;
  --shadow: 0 1px 2px rgba(0,0,0,.04);
}

* { box-sizing: border-box; }
html, body {
  height: 100%;
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI",
               Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
               "Segoe UI Emoji", "Segoe UI Symbol";
  color: var(--txt);
  background: #fff;
  line-height: 1.45;
}

h1, h2, h3 { line-height: 1.2; margin: .2rem 0 .8rem; }
h1:focus { outline: none; }

/* =========================
   3) Links & buttons
   ========================= */
a, .btn-link { color: #0071c1; text-decoration: none; }
a:hover, .btn-link:hover { text-decoration: underline; }

.btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: .45rem;
  padding: .55rem .95rem;
  border-radius: var(--radius);
  border: 1px solid var(--border);
  background: #fff; color: var(--txt);
  cursor: pointer;
  transition: background .12s ease, border-color .12s ease, transform .02s ease;
}
.btn:hover { background: #f8fafc; }
.btn:active { transform: translateY(1px); }

.btn-primary {
  color:#fff; background: var(--primary); border-color: var(--primary-2);
}
.btn-primary:hover { filter: brightness(0.96); }

/* Focus ring (Blazor template behavior) */
.btn:focus, .btn:active:focus, .btn-link.nav-link:focus,
.form-control:focus, .form-check-input:focus {
  box-shadow: 0 0 0 0.1rem white, 0 0 0 0.25rem #258cfb;
}

/* Sizes */
.btn-sm { padding: .35rem .65rem; font-size: .92rem; border-radius: .55rem; }

/* =========================
   4) App layout
   ========================= */
.page { display: flex; min-height: 100vh; }
.sidebar {
  width: 260px; background: var(--bg-sidebar); color:#fff;
  position: sticky; top: 0; align-self: flex-start; min-height: 100vh;
}
.content { flex: 1; padding: 1.1rem 1.25rem; }

/* =========================
   5) Sidebar nav
   ========================= */
.nav-menu { padding: .5rem 0 1rem; }
.nav-menu h3 { margin: 0; color: #fff; font-weight: 600; }
.nav-menu ul { list-style: none; margin: 0; padding: .5rem .5rem; }
.nav-menu a {
  color: #cbd5e1; display: block; padding: .6rem .75rem; border-radius: .6rem;
}
.nav-menu a:hover { background: rgba(255,255,255,.06); color: #fff; }
.nav-menu a.active { background: var(--bg-active); color: #fff; }

/* =========================
   6) Cards, tables, badges, KPIs
   ========================= */
.card {
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem;
  margin-bottom: 1rem;
  background: #fff;
  box-shadow: var(--shadow);
}
.card-title { margin: 0 0 .6rem; font-weight: 600; }

.kpi-value { font-size: 1.85rem; font-weight: 700; letter-spacing: .2px; }
.kpi-sub   { font-size: .9rem; color: var(--txt-muted); }

.table { width: 100%; border-collapse: collapse; }
.table th, .table td {
  border-bottom: 1px solid var(--border);
  padding: .55rem .75rem;
  text-align: left;
}
.table th { color: var(--txt-muted); font-weight: 600; font-size: .94rem; }
.table tbody tr:hover { background: #fafafa; }

.badge {
  background: var(--badge);
  padding: .25rem .6rem;
  border-radius: .55rem;
  display: inline-block;
  font-size: .85rem;
}

/* =========================
   7) Forms (incl. Blazor inputs)
   ========================= */
input[type="text"], input[type="number"], input[type="date"], select, textarea,
.form-control {
  width: 100%;
  padding: .5rem .6rem;
  border: 1px solid var(--border);
  border-radius: .55rem;
  background: #fff;
  color: var(--txt);
}
input:focus, select:focus, textarea:focus {
  outline: none; border-color: #93c5fd; box-shadow: 0 0 0 3px rgba(147,197,253,.35);
}

/* Validation (Blazor template) */
.valid.modified:not([type=checkbox]) { outline: 1px solid #26b050; }
.invalid { outline: 1px solid red; }
.validation-message { color: red; }

/* =========================
   8) Blazor error UI
   ========================= */
#blazor-error-ui {
  background: lightyellow;
  bottom: 0;
  box-shadow: 0 -1px 2px rgba(0,0,0,.2);
  display: none;
  left: 0;
  padding: .6rem 1.25rem .7rem;
  position: fixed;
  width: 100%;
  z-index: 1000;
}
#blazor-error-ui .dismiss {
  cursor: pointer;
  position: absolute; right: .75rem; top: .5rem;
}
.blazor-error-boundary {
  background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYiIGhlaWdodD0iNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIG92ZXJmbG93PSJoaWRkZW4iPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcDAiPjxyZWN0IHg9IjIzNSIgeT0iNTEiIHdpZHRoPSI1NiIgaGVpZ2h0PSI0OSIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzUgLTUxKSI+PHBhdGggZD0iTTI2My41MDYgNTFDMjY0LjcxNyA1MSAyNjUuODEzIDUxLjQ4MzcgMjY2LjYwNiA1Mi4yNjU4TDI2Ny4wNTIgNTIuNzk4NyAyNjcuNTM5IDUzLjYyODMgMjkwLjE4NSA5Mi4xODMxIDI5MC41NDUgOTIuNzk1IDI5MC42NTYgOTIuOTk2QzI5MC44NzcgOTMuNTEzIDI5MSA5NC4wODE1IDI5MSA5NC42NzgyIDI5MSA5Ny4wNjUxIDI4OS4wMzggOTkgMjg2LjYxNyA5OUwyNDAuMzgzIDk5QzIzNy45NjMgOTkgMjM2IDk3LjA2NTEgMjM2IDk0LjY3ODIgMjM2IDk0LjM3OTkgMjM2LjAzMSA5NC4wODg2IDIzNi4wODkgOTMuODA3MkwyMzYuMzM4IDkzLjAxNjIgMjM2Ljg1OCA5Mi4xMzE0IDI1OS40NzMgNTMuNjI5NCAyNTkuOTYxIDUyLjc5ODUgMjYwLjQwNyA1Mi4yNjU4QzI2MS4yIDUxLjQ4MzcgMjYyLjI5NiA1MSAyNjMuNTA2IDUxWk0yNjMuNTg2IDY2LjAxODNDMjYwLjczNyA2Ni4wMTgzIDI1OS4zMTMgNjcuMTI0NSAyNTkuMzEzIDY5LjMzNyAyNTkuMzEzIDY5LjYxMDIgMjU5LjMzMiA2OS44NjA4IDI1OS4zNzEgNzAuMDg4N0wyNjEuNzk1IDg0LjAxNjEgMjY1LjM4IDg0LjAxNjEgMjY3LjgyMSA2OS43NDc1QzI2Ny44NiA2OS43MzA5IDI2Ny44NzkgNjkuNTg3NyAyNjcuODc5IDY5LjMxNzkgMjY3Ljg3OSA2Ny4xMTgyIDI2Ni40NDggNjYuMDE4MyAyNjMuNTg2IDY2LjAxODNaTTI2My41NzYgODYuMDU0N0MyNjEuMDQ5IDg2LjA1NDcgMjU5Ljc4NiA4Ny4zMDA1IDI1OS43ODYgODkuNzkyMSAyNTkuNzg2IDky...) no-repeat 1rem/1.8rem, #b32121;
  padding: 1rem 1rem 1rem 3.7rem;
  color: white;
}
.blazor-error-boundary::after { content: "An error has occurred."; }

/* =========================
   9) Charts
   ========================= */
canvas { max-width: 100%; }
.chart-card { height: 460px; }
.chart-card .card-body { height: 100%; }
.ratio-21x9 { aspect-ratio: 21 / 9; }

/* =========================
   10) Positions card (wider & bigger)
   ========================= */
.positions-card .ticker {
  font-size: 1.06rem; font-weight: 600; letter-spacing: .2px;
}
.positions-card .qty {
  font-size: 1.25rem; font-weight: 700;
}
.positions-card .card-body { padding-top: 1rem; padding-bottom: 1rem; }
.positions-list .list-group-item { border: none; border-bottom: 1px solid var(--border); }
.positions-list .list-group-item:last-child { border-bottom: none; }

/* =========================
   11) Utilities
   ========================= */
.mt-1 { margin-top: .25rem; }
.mt-2 { margin-top: .5rem; }
.mt-3 { margin-top: 1rem; }
.mb-0 { margin-bottom: 0; }
.text-muted { color: var(--txt-muted); }
.text-success { color: #22c55e; }
.text-danger  { color: #ef4444; }

/* =========================
   12) Responsive tweaks
   ========================= */
@media (max-width: 1024px) {
  .sidebar { width: 220px; }
}
@media (max-width: 768px) {
  .page { flex-direction: column; }
  .sidebar { position: relative; width: 100%; min-height: auto; }
  .content { padding: 1rem; }
  .nav-menu ul { display: flex; gap: .4rem; flex-wrap: wrap; }
  .nav-menu a { padding: .5rem .6rem; }
  .chart-card { height: 360px; }
}

/* Hover + click feedback on rows */
.positions-table tbody tr.clickable { cursor: pointer; }
.positions-table tbody tr.clickable:hover { background: #f6faff; }

/* Simple modal without Bootstrap JS */
.modal-backdrop {
  position: fixed; inset: 0; background: rgba(0,0,0,.35); z-index: 1040;
}
.trade-modal {
  position: fixed; z-index: 1050; top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  width: min(640px, 92vw);
  border-radius: .75rem;
}
